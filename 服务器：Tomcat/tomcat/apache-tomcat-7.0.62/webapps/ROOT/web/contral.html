<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>自然屋</title>
<link rel="stylesheet" type="text/css" href="css/contral.css">
    <link rel="stylesheet" href="../layui/css/layui.css" media="all"/>
    <link rel="stylesheet" href="../js/coms/layer/skin/layer.css" />
    <!--<link rel="stylesheet" href="../layui/css/global.css" media="all">-->
    <script src="../js/coms/common/common.js"></script>
    <script src="../js/coms/ajaxfileupload/jquery.js"></script>
    <script src="../ace/js/jquery-2.1.4.min.js"></script>
    <script src="../js/coms/common/linkage.js"></script>
    <script src="../js/validate/Validform_source.js"></script>
    <style>

        .pull-down div{ float:left;}
        .clearfix{*zoom:1}
        .clearfix:after{clear:both;content:".";display:block;font-size:0;line-height:0;visibility:hidden;width:0;height:0}

    </style>
    <script type="text/javascript">
        var t_dinuan_demo = "<p class='b2 dinuan_demo' >" +
        "<select  class='c1'>" +
           "<option value='1'>客厅</option>" +
            "<option value='2'>餐厅</option>" +
        "<option value='3'>起居室</option>" +
        " <option value='4'>主卧</option>" +
        " <option value='5'>次卧</option>" +
        "  <option value='6'>书房</option>" +
        " <option value='7'>客卧</option>" +
        " <option value='8'>主卫</option>" +
        " <option value='9'>客卫</option>" +
        " <option value='10'>厨房</option>" +
//        "<option value='11'>无</option>" +
        "<option value='12'>其他</option>" +
        " </select>"+
            "   <input class='c2' type='text' />"+
        "  <select  class='c3'>"+
        " <option value='大理石'>大理石</option>"+
        "  <option value='地砖'>地砖</option>"+
        "   <option value='复合地板'>复合地板</option>"+
        "  <option value='实木地板'>实木地板</option>"+
        "   </select>"+
        "   <input class='c4' type='text' />"+
        "  <img src='images/jian.jpg' alt='' class='jian_dinuan'></p>" ;

        var t_srq_demo = "<p class='b2 srq_demo' >" +
            "<select  class='c1'>" +
            "<option value='1'>客厅</option>" +
            "<option value='2'>餐厅</option>" +
            "<option value='3'>起居室</option>" +
            " <option value='4'>主卧</option>" +
            " <option value='5'>次卧</option>" +
            "  <option value='6'>书房</option>" +
            " <option value='7'>客卧</option>" +
            " <option value='8'>主卫</option>" +
            " <option value='9'>客卫</option>" +
            " <option value='10'>厨房</option>" +
//            "<option value='11'>无</option>" +
            "<option value='12'>其他</option>" +
            " </select>"+
            "   <input class='c2' type='text' />"+
            "   <input class='c4' type='text' />"+
            "  <img src='images/jian.jpg' alt='' class='jian_srq'></p>" ;


        jQuery(document).ready(function(){


            //城市下拉框
            initCity("localtion",null,"");

            //地暖加號的事件
            $('#jia_dinuan').on('click',function () {
                $('#dinuan_form').append(t_dinuan_demo) ;
            }) ;
            //地暖减号的事件
            $('#dinuan_form').unbind('click').on('click','.jian_dinuan',function () {
               var p =  $(this).parent()[0] ;
               $(p).remove() ;
            }) ;
            //散热器加號的事件
            $('#jia_srq').on('click',function () {
                $('#srq_form').append(t_srq_demo) ;
            }) ;
            //散热器减号的事件
            $('#srq_form').unbind('click').on('click','.jian_srq',function () {
               var p =  $(this).parent()[0] ;
               $(p).remove() ;
            }) ;
            //散热器减号的事件
            $('#infoConfirm').click(function () {
                $('#confirm').show() ;
                $('#footer').show() ;
            });


        }) ;

        $(function(){
            $("input[name='a5']").change(function(){
                var id = $("input[name='a5']:checked").val();
                if (id == 1) {
                    $('.zhushi1').show() ;
                    $('.zhushi2').hide() ;
                }else if (id == 2){
                    $('.zhushi1').hide() ;
                    $('.zhushi2').show() ;
                }else if (id == 3){
                    $('.zhushi1').show() ;
                    $('.zhushi2').show() ;
                }
            });
        })
        //地暖报价类型显示效果
        $(function(){
            $("input[name='priceTerms']").change(function(){
                var id = $("input[name='priceTerms']:checked").val();
                console.log(id) ;
                if (id == 1) {
                    $('#t_dinuan').hide() ;
                }else if (id == 2){
                    $('#t_dinuan').show() ;
                }
            });
        })
        //散热器报价类型显示效果
        $(function(){
            $("input[name='srq_priceTerms']").change(function(){
                var id = $("input[name='srq_priceTerms']:checked").val();
                console.log(id) ;
                if (id == 1) {
                    $('#t_srq').hide() ;
                }else if (id == 2){
                    $('#t_srq').show() ;
                }
            });
        })


        //提交按钮
        function save() {
            //姓名
            var name = $('#name').val() ;
            //联系电话
            var phone='' ;
            var phoneradio = $("input[name='phone']:checked").val();
            if(phoneradio == 1){
                phone = $('#tell').val()
            }else{
                phone = $('#phone').val() ;
            }
            //邮箱
            var email = $('#email').val() ;
            //项目地址
            var address = $('#province').find("option:selected").text() + $('#city').find("option:selected").text() + $('#area').find("option:selected").text() + $('#address').val();
            //建造年代
            var buildTime = $('#buildTime').val() ;
            //面积
            var area = "" ;
            var arearadio = $("input[name='a2']:checked").val();
            if(arearadio == '建筑面积'){
                area = $('#area1').val();
            }else{
                area = $('#area2').val() ;
            }
            //房屋类型
            var fangwuleixing = $("input[name='a3']:checked").val();
            var buildType = '' ;
            var buildDetail = "" ;
            if(fangwuleixing == '复式'){
                buildType = 2 ;
                buildDetail = $('#fscs').val() ;
            }else{
                buildType = 1 ;
                buildDetail = $('#shi').val()+"|"+$("#ting").val()+"|"+$("#wei").val() ;
            }
            //是否搭配热源
            var isHot = $("input[name='a4']:checked").val();
            //供暖类型
            var hotType = $("input[name='a5']:checked").val();
            var userInfo = {} ;
            userInfo.name = name ;
            userInfo.phone = phone ;
            userInfo.address = address ;
            userInfo.email = email ;
            userInfo.buildTime = buildTime ;
            userInfo.area = area ;
            userInfo.buildType = buildType ;
            userInfo.buildDetail = buildDetail ;
            userInfo.isHot = isHot ;
            userInfo.hotType = hotType ;


            //地暖
            var floorHeating= {};
            //配置
            var configs = new Array() ;
            //散热器
            var radiator = {} ;
            //只有地暖
            if(hotType == 1){
                dinuan(floorHeating,configs) ;
            }else if (hotType == 2){  //只有散热器
                srq(radiator,configs) ;
            }else {
                dinuan(floorHeating,configs) ;
                srq(radiator,configs) ;
            }

            $('#userInfo-form').val(JSON.stringify(userInfo));
            $('#floorHeating-form').val(JSON.stringify(floorHeating));
            $('#radiator-form').val(JSON.stringify(radiator));
            $('#configs-form').val(JSON.stringify(configs)) ;
            $('#submitForm').submit() ;

        }

        function dinuan(floorHeating,configs) {
            var type = "" ;
            var typeradio = $("input[name='gender']:checked").val();
            if(typeradio == 1){  //标准地暖
                type =$('#biaozhun').val() ;
            }else if (typeradio == 2){  //预制地暖
                type =$('#yuzhi').val() ;
            }else{  //预制轻薄高效地暖
                type =$('#qingbao').val() ;
            }
            //预算方式
            var priceTerms = $("input[name='priceTerms']:checked").val();
            floorHeating.type = type ;
            floorHeating.priceTerms = priceTerms ;
            //地暖搭配

            if(priceTerms == 2){  //精确估算才会有明细
                var ps =  $('.dinuan_demo') ;
                if(ps.length == 0){
                    alert("地暖精准报价需提供功能明细！") ;
                    return ;
                }
                for (var i=0;i<ps.length;i++){
                    var config = {} ;
                    var room = $(ps[i]).find('.c1') ;
                    config.roomId = $(room[0]).val() ;
                    config.roomName = $(room[0]).find("option:selected").text() ;
                    config.type = 1 ;  //地暖
                    var area = $(ps[i]).find('.c2') ;
                    config.area = $(area[0]).val() ;
                    var texture = $(ps[i]).find('.c3') ;
                    config.texture = $(texture[0]).find("option:selected").text() ;
                    var remark = $(ps[i]).find('.c4') ;
                    config.remark = $(remark[0]).val() ;
                    configs.push(config) ;

                }
            }
        }

        function srq(radiator,configs) {
            radiator.type = $("input[name='srq_type']:checked").val();
            radiator.connect = $("input[name='srq_connect']:checked").val() ;
            radiator.priceTerms = $("input[name='srq_priceTerms']:checked").val() ;

            if(radiator.priceTerms == 2){  //精准报价
                var ps =  $('.srq_demo') ;
                if(ps.length == 0){
                    alert("地暖精准报价需提供功能明细！") ;
                    return ;
                }
                for (var i=0;i<ps.length;i++){
                    var config = {} ;
                    var room = $(ps[i]).find('.c1') ;
                    config.roomId = $(room[0]).val() ;
                    config.roomName = $(room[0]).find("option:selected").text() ;
                    config.type = 2 ;  //散热器
                    var area = $(ps[i]).find('.c2') ;
                    config.area = $(area[0]).val() ;
                    var remark = $(ps[i]).find('.c4') ;
                    config.remark = $(remark[0]).val() ;
                    configs.push(config) ;
                }
            }
        }

    </script>

</head>

<body>
<div class="top">
<div class="a1  clearfix">
<div class="tipt">
<p>上海地暖规程主要参编者 </p>
</div>
</div>
<div class="nav clearfix">
<div class="logo"><img src="images/logo.jpg" alt=""/></div>
<div class="font1">效&nbsp;法&nbsp;自&nbsp;然&nbsp;&nbsp;&nbsp;<img src="images/dian.jpg" alt="">&nbsp;&nbsp;&nbsp;健&nbsp;康&nbsp;供&nbsp;暖</div>
<div class="font2">上&nbsp;&nbsp;海&nbsp;&nbsp;地&nbsp;&nbsp;暖&nbsp;&nbsp;规&nbsp;&nbsp;程&nbsp;&nbsp;供&nbsp;&nbsp;暖&nbsp;&nbsp;服&nbsp;&nbsp;务&nbsp;&nbsp;商</div>
<div class="topr"><img src="images/topr.png" alt=""></div>
</div>
</div>



<div class="banner"><img src="images/banner.png" alt=""/></div>



<div class="contant">

<div class="infon">

<div  class="tip">
<p>客户信息<span>Customer Information</span></p></div>

<form>
<span><b>*</b>姓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名</span><input class="f01" type="text" placeholder="" id="name" />
<br/>

<span><b>*</b>电&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;话</span> 
<input  class="cc" TYPE="radio"  name="phone"  VALUE="1" checked="checked" ><label for="tell"><em>手机</em><input id="tell" class="f02 " type="text" /></label>

 <input class="cc" TYPE="radio"  name="phone" VALUE="2" ><em>座机</em><input  class="f03 " id="phone" type="text"/>
 <br/>
 
<span><b>*</b>E-mail</span><input class="f04" type="text" placeholder="" id="email" datatype="e" /><br/>

<span style="padding-top: -10px;"><b>*</b>项目地址</span>
    <div  id="localtion" style="display: inline-block ; margin-top: 10px;" >
    </div>
 <input class="one" type="text" placeholder="详细地址" id="address"/><br/>
 
<span><b>*</b>房屋建造年代</span><select class="two" id="buildTime">
                               <option></option>
                              <option value="1">新房</option>
                              <option value="2">2005年以后</option>
                              <option value="3">1995~2005年</option>
                              <option value="4">1995年以前或自建房</option>
</select><br/>

<span><b>*</b>供暖面积</span>

 <input class="cc"  TYPE="radio"  name="a2" VALUE="建筑面积" checked="checked" ><em>建筑面积</em><input class="f05" id="area1" type="text"  /><em>m<sup>2</sup></em>

<input  class="cc"  TYPE="radio"  name="a2" VALUE="预计供暖区域面积" ><em>预计供暖区域面积</em><input id="area2" class="f05 area"  type="text"/><em>m<sup>2</sup></em><br/>
<span><b>*</b>房屋类型</span> 
 <input class="cc"  TYPE="radio"  name="a3" VALUE="公寓" checked="checked" ><em>公寓</em><input  class="f06"  type="text" id="shi"/><em>室</em><input class="f06" id="ting" type="text"/><em>厅</em><input class="f06" id="wei" type="text" /><em>卫</em>
<input class="cc"  TYPE="radio"   name="a3" VALUE="复式" >复式<input  class="f06" type="text" id="fscs" />层<br/>

<span><b>*</b>热源选配</span>
<input  class="cc"  TYPE="radio"  name="a4" VALUE="否" checked="checked" ><em>不选热源</em>
<input  class="cc"  TYPE="radio"  name="a4" VALUE="是" ><em>搭配热源</em>
<br><br>

<span><b>*</b>供暖类型</span>
<input  class="cc"  TYPE="radio"  name="a5" VALUE="1" checked="checked" ><em>地暖</em>
<input  class="cc" TYPE="radio"   name="a5" VALUE="2" ><em>散热器供暖</em>
<input class="cc"  TYPE="radio"   name="a5" VALUE="3" ><em>地暖&散热器供暖</em>
</form>
</div>

<div class="zhushi1" >
<div class="dinuantip"></div>
<div class="dinuan">
<p><span>【地暖】名词释义：</span><br>
地暖，全名叫低温地面辐射供暖，舒适的供暖温度范围是32℃--40℃。<br>
优质的地暖系统兼具健康、安全、舒适、节能为一体。</p></div>
</div>

<div class="zhushi2"  style="display: none;">
<div class="sanretip"></div>
<div class="sanre">
<p><span>【散热器供暖】名词释义：</span><br>
壁挂式对流供暖器，通常供暖温度范围是45℃--65℃<br>
品质散热器兼具美化家居的装饰功能</p></div>
</div>

<div class="jinggao">
<img src="images/tip.png" alt="">
</div>


<div class="queren">
<form>
<input type="image"  src="images/button.png" id="infoConfirm" onclick="return false;">
</form>
<p>*  确认信息方可激活套餐</p>
</div>




<div class="package" id='confirm' style="display: none;">
<div  class="tip">
<p>产品套餐<span>Product package</span></p></div>
<div class="buttom1">
<img src="images/dinuan.png" alt="">
<img src="images/sanre.jpg" alt="">
</div>
<div class="tipc"></div>
<div class="packcen1">
<div class="leixing2">
<form>
  <p><span><b>*</b>地暖类型</span> 
  <input  class="cc" TYPE="radio" NAME="gender" value="1" checked="checked"><em>标准地暖&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em><select  class="gg" id="biaozhun">
  <option></option>
  <option value="C1">C1</option>
  <option value="C2">C2</option>
  <option VALUE="D1">D1</option>
  </select>
    <br>
  <input class="ff" TYPE="radio" NAME="gender" value="2" ><em>预制地暖&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em><select  class="gg" id="yuzhi">
  <option></option>
  <option value="B1">B1</option>
  <option VALUE="B2">B2</option>
  </select>
    <br>
    <input class="ff" TYPE="radio" NAME="gender" value="3" ><em>预制轻薄高效地暖</em><select  class="gg" id="qingbao">
    <option></option>
    <option VALUE="A+">A+</option>
    <option value="A1">A1</option>
    <option VALUE="A2">A2</option>
    </select>
    <br>  </p>
 </form>  
</div>

<div class="biaoge1">
<form>
 <p><span><b>*</b>预算统计</span> 
    <input  class="cc" TYPE="radio" NAME="priceTerms" value="1" checked="checked"><em>预估报价</em>
    <input class="ff" TYPE="radio" NAME="priceTerms"  value="2"><em>精准报价</em>
</p>
</form>
</div> 

<!--<div class="biaoge2">-->
<!--<form>-->
 <!--<p><span><b>*</b>搭配热源</span> -->
    <!--<input  class="cc" TYPE="radio" NAME="gender" ><em>威能</em>-->
    <!--<input class="ff1" TYPE="radio" NAME="gender"  ><em>菲斯曼</em>-->
<!--</p>-->
<!--</form>-->
<!--</div> -->


<div class="fushi" id="t_dinuan" style="display: none ;">
<form id="dinuan_form">
    <p>
    <ul class=" b1 clearfix">
  <li><table width="594" border="1">
    <tr>
      <td width="96"><div align="center">功能</div></td>
      <td width="96"><div align="center">面积㎡</div></td>
      <td width="141"><div align="center">地面材质</div></td>
      <td width="233"><div align="center">备注</div></td>
    </tr>
  </table></li>
  <li><img src="images/jia.jpg" alt="" id="jia_dinuan"></li>
  </ul>
  </p>
  <p class="b2 dinuan_demo ">
      <select  class="c1">
          <option value="1">客厅</option>
          <option value="2">餐厅</option>
          <option value="3">起居室</option>
          <option value="4">主卧</option>
          <option value="5">次卧</option>
          <option value="6">书房</option>
          <option value="7">客卧</option>
          <option value="8">主卫</option>
          <option value="9">客卫</option>
          <option value="10">厨房</option>
          <!--<option value="11">无</option>-->
          <option value='12'>其他</option>
      </select>
      <input class="c2" type="text" />
     <select  class="c3">
         <option value="大理石">大理石</option>
         <option value="地砖">地砖</option>
         <option value="复合地板">复合地板</option>
         <option value="实木地板">实木地板</option>
     </select>
      <input class="c4" type="text" />
     <img src="images/jian.jpg" alt="" class="jian_dinuan"></p>
</form>
</div>

</div>




<div class="tipc"></div>

<div class="buttom4">
<img src="images/dinuan.jpg" alt="">
<img src="images/sanreqi.png" alt=""></div>

<div class="tipc"></div>


<div class="packcen2">
<div class="biaoge">
<form>
<p class="d1"> <span>散热器类型</span> 
    <input  class="cc" TYPE="radio" NAME="srq_type" value="英伦灰" checked="checked"><em>英伦灰</em>
    <input class="aa" TYPE="radio" NAME="srq_type"  value="中国白"><em>中国白</em>
    <input  class="aa" TYPE="radio" NAME="srq_type" value="铜铝"><em>铜铝</em>
    <input class="aa" TYPE="radio" NAME="srq_type"  value="钢铝"><em>钢铝</em>
</p>

<p class="d2"> <span><b>*</b>连接方式</span> 
    <input  class="cc" TYPE="radio" NAME="srq_connect" value="1" checked="checked"><em>墙面明装管道</em>
    <input class="tt" TYPE="radio" NAME="srq_connect"  value="2"><em>墙内暗埋管道</em></p>

<p class="d3"> <span><b>*</b>预算统计表</span> 
    <input  class="cc" TYPE="radio" NAME="srq_priceTerms" value="1" checked="checked"><em>预估报价</em>
    <input  class="jj" TYPE="radio" NAME="srq_priceTerms" value="2"><em>精准报价</em>
</p></form></div> 


<!--<div class="biaoge3">-->
<!--<form>-->
 <!--<p><span><b>*</b>搭配热源</span> -->
    <!--<input  class="cc" TYPE="radio" NAME="gender" ><em>威能</em>-->
    <!--<input class="jj1" TYPE="radio" NAME="gender"  ><em>菲斯曼</em>-->
<!--</p>-->
<!--</form>-->
<!--</div> -->

 

<div class="fushi" id="t_srq" style="display: none ;">
    <form id="srq_form">
  <ul class=" b1 clearfix">
  <li><table width="594" border="1" >
    <tr>
      <td width="96"><div align="center">功能</div></td>
      <td width="96"><div align="center">面积㎡</div></td>
      <td><div align="center">备注</div>        <div align="center"></div></td>
      </tr>
  </table></li>
  <li><img src="images/jia.jpg" alt="" id="jia_srq"></li>
  </ul>
 
  <p class="b2 srq_demo">
      <select  class="c1">
      <option value="1">客厅</option>
      <option value="2">餐厅</option>
      <option value="3">起居室</option>
      <option value="4">主卧</option>
      <option value="5">次卧</option>
      <option value="6">书房</option>
      <option value="7">客卧</option>
      <option value="8">主卫</option>
      <option value="9">客卫</option>
      <option value="10">厨房</option>
      <!--<option value="11">无</option>-->
          <option value='12'>其他</option>
  </select>
      <input class="c2" type="text" />
      <input class="c4" type="text" />

     <img src="images/jian.jpg" alt="" class="jian_srq"></p>
</form>
</div>
</div>
</div>









</div>
<div class="footer" id="footer" style="display: none;">
<div class="foot clearfix">
<div class="footerl"><img src="images/tel.png" alt=""/><p>400-100-1202</p></div>
<div class="footerr"><form>
<input type="image" src="images/back.png">
</form>
    <input type="image" src="images/package.png"  onclick="save();">

</div>
</div>
</div>

<form id="submitForm" name="SearchForm" action="http://114.55.4.234/hgl/app/userinfo/submit/json" method="post" style="display: none;" >
    <input type="text" name="userInfo" id="userInfo-form" value=""/>
    <input type="text" name="radiator" id="radiator-form" value=""/>
    <input type="text" name="floorHeating" id="floorHeating-form" value=""/>
    <input type="text" name="configs" id="configs-form"/>
</form>

</body>
</html>
